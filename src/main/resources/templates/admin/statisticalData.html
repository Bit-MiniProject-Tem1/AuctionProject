<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/adminLayout}">
<head>
    <title>통계 데이터</title>

    <th:block layout:fragment="css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&display=swap">
        <link rel="stylesheet" th:href="@{/css/admin/admin.css}">
    </th:block>
    <th:block layout:fragment="script">
        <script>
            $(() => {
                // // Initialize the echarts instance based on the prepared dom
                // var myChart = echarts.init($("#myChart")[0]);
                //
                // // Specify the configuration items and data for the chart
                // var option = {
                //     title: {
                //         text: 'ECharts Getting Started Example'
                //     },
                //     tooltip: {},
                //     legend: {
                //         data: ['sales']
                //     },
                //     xAxis: {
                //         data: ['Shirts', 'Cardigans', 'Chiffons', 'Pants', 'Heels', 'Socks']
                //     },
                //     yAxis: {},
                //     series: [
                //         {
                //             name: 'sales',
                //             type: 'bar',
                //             data: [5, 20, 36, 10, 10, 20]
                //         }
                //     ]
                // };
                //
                // // Display the chart using the configuration items and data just specified.
                // myChart.setOption(option);

                const ctx = document.getElementById('myChart');

                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                        datasets: [{
                            label: '# of Votes',
                            data: [12, 19, 3, 5, 2, 3],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            });
        </script>
    </th:block>
</head>
<body>
<div class="content_area" layout:fragment="content">
    <h1 class="page-title light-border-bottom">통계 데이터</h1>
    <div class="statistical_item_area">
        <div class="statistical_item" id="statisticalHistory">
            <div class="item_label_area">
                <div class="label_icon d-flex align-items-center justify-content-center">
                    <i class="bi bi-record-fill"></i>
                </div>
                <strong>
                    <label class="item_label">월별 경매 현황 ([[${monthList[5]}]] ~ [[${monthList[0]}]])</label>
                </strong>
            </div>
            <div hidden style="height: 500px;">
                <canvas id="myChart">
                    <table style="text-align: center;">
                        <tr>
                            <th class="colName" style="width: 150px;"></th>
                            <th class="colName" th:each="month, i : ${monthList}" th:text="${month}" style="width: 140px;"></th>
                            <th class="colName" style="text-align: center; width: 140px;">합계</th>
                        </tr>
                        <tr th:with="sum = 0">
                            <th class="colName">경매 건수</th>
                            <td class="cell" th:each="month, i : ${monthList}" th:text="${auctionCountList[i.index]}"></td>
                            <td class="cell" th:text="${auctionCountSum}"></td>
                        </tr>
                        <tr>
                            <th class="colName">입찰 건수</th>
                            <td class="cell" th:each="month, i : ${monthList}" th:text="${biddingCountList[i.index]}"></td>
                            <td class="cell" th:text="${biddingCountSum}"></td>
                        </tr>
                        <tr>
                            <th class="colName">거래 총액</th>
                            <td class="cell" th:each="month, i : ${monthList}" th:text="${totalPriceList[i.index]}"></td>
                            <td class="cell" th:text="${totalPriceSum}"></td>
                        </tr>
                    </table>
                </canvas>
            </div>
        </div>
    </div>
</div>
</body>
</html>